#version 150
uniform sampler2D uTexture0;
uniform float width1;
uniform float width2;
uniform float width3;

in vec4 vColor;
in vec2 vVertexUV;
in float curLength;
uniform float maxRange;
uniform float time;

in float xPos;

out vec4 outColor;

void main(void) 
{
	float t = maxRange - curLength;
	vec4 color = vColor;
	if (t < 50.0)
	{
		color.a = ( t + 20.0) / 70.0;
	}
	outColor = texture2D(uTexture0, vVertexUV) * color;
	outColor.a *= abs(sin((curLength - time * 200.0)/ 10.0)) * 0.4 + 0.6;
}
